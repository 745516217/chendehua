(function (wnd) {


	var api
    var InteractiveActivity = function (_api) {
    	api = _api;
        init();
    };
	$(function() {
			init()
		})
	var p = InteractiveActivity.prototype;
	var elem0,elem1,elem2,elem3,elem4,elem5,elem6,elem7,elem8,elem9,elem10,elem11;
	
	var stagespr = new Array();
	var curFrame = 15;
	
	function init(){
		
		addData();
		
		upFrame();
		resetFn(15);
		
		
		addEvent();
		console.log(offsetLeft)
		$("#container").css({"left":offsetLeft})
		
	}
	
	
	function addEvent(){
		$(elem9).zdw_addEvent("mouseup",function(){
			for(var i = 0;i<12;i++){
				stagespr[i].fromAndtoPlay(curFrame,1)
			}
		})
		
		$(elem7).zdw_addEvent("mouseup",function(){
			for(var i = 0;i<12;i++){
				stagespr[i].fromAndtoPlay(curFrame,30)
			}
		})
		
		$("#resetBtn").zdw_addEvent("mouseup",function(){
			resetFn(15);
		})
		
		
	}
	
	
	
	
	function addData(){
		elem0 = $("#e0").zdw_init([{'fr1': [0.6439666748046875, -0.371795654296875, 0.371795654296875, 0.6439666748046875, 255.3,42.45]},{'fr10': [0.7404022216796875, -0.0520172119140625, 0.052001953125, 0.7403717041015625, 309.05,92.55]},{'fr20': [0.6751708984375, 0.3053741455078125, -0.3053741455078125, 0.675201416015625, 339.9,170.2]},{'fr30': [0.4479827880859375, 0.593109130859375, -0.5930938720703125, 0.4479827880859375, 336.65,254.3]}],30);
		elem1 = $("#e1").zdw_init([{'fr1': [0.5258026123046875, -0.523101806640625, 0.523101806640625, 0.5258026123046875, 197.8,140.65]},{'fr10': [0.6812591552734375, -0.3220367431640625, 0.3166046142578125, 0.6697998046875, 217.45,163.95]},{'fr20': [0.7358551025390625, -0.0301971435546875, 0.0304107666015625, 0.7410888671875, 227.5,197.5]},{'fr30': [0.6626129150390625, 0.2642059326171875, -0.275054931640625, 0.6898040771484375, 224.3,232.1]}],30);
		elem2 = $("#e2").zdw_init([{'fr1': [0.574981689453125, -0.408843994140625, 0.4301910400390625, 0.605010986328125, 77.6,125.3]},{'fr30': [ 0.7157440185546875, -0.5089263916015625, 0.4324951171875, 0.603363037109375, 77.05,125.1]}],30);
		elem3 = $("#e3").zdw_init([{'fr1': [0.670867919921875, -0.3765869140625, 0.35302734375, 0.62890625, 104.2,89.95]},{'fr30': [0.6097869873046875, -0.396331787109375, 0.4226531982421875, 0.777130126953125, 109.95,102.85]}],30);
		elem4 = $("#e4").zdw_init([{'fr1': [0.7435760498046875, 0, 0, 0.7435760498046875, 201.4,149]},{'fr10': [0.6916351318359375, 0.269317626953125, -0.277099609375, 0.6935577392578125, 216.4,171.5]},{'fr20': [0.525299072265625, 0.5229949951171875, -0.539276123046875, 0.52276611328125, 221.6,202.35]},{'fr30': [0.2720184326171875, 0.6902618408203125, -0.7117156982421875, 0.257598876953125, 213.5,234.5]}],30);
		elem5 = $("#e5").zdw_init([{'fr1': [0.7435760498046875, 0, 0, 0.7435760498046875, 101.5,127.7]},{'fr30': [0.7435760498046875, 0, -0.001678466796875, 0.7435760498046875, 101.25,127.7]}],30);
		elem6 = $("#e6").zdw_init([{'fr1': [0.6309967041015625, -0.3913421630859375, 0.3839569091796875, 0.63555908203125, 44.8,96.35]},{'fr30': [0.6309967041015625, -0.3913421630859375, 0.3235931396484375, 0.6463470458984375, 40.8,97.05]}],30);
		elem7 = $("#e7").zdw_init([{'fr1': [0.5992431640625, -0.3503570556640625, 0.3746337890625, 0.6407928466796875, 77.55,125.75]},{'fr30': [0.8070220947265625, -0.471832275390625, 0.36328125, 0.621368408203125, 74.45,124.4]}],30);
		elem8 = $("#e8").zdw_init([{'fr1': [0.699951171875, -0.24871826171875, 0.24871826171875, 0.699951171875, 97.3,57.8]},{'fr30': [0.699951171875, -0.24871826171875, 0.318115234375, 0.948760986328125, 100.3,68.65]}],30);
		elem9 = $("#e9").zdw_init([{'fr1': [0.7188720703125, -0.4150390625, 0.363006591796875, 0.6599578857421875, 116.65,103.9]},{'fr30': [0.53192138671875, -0.3070831298828125, 0.4498138427734375, 0.7970733642578125, 123.75,120.3]}],30);
		elem10 = $("#e10").zdw_init([{'fr1': [0.7064056396484375, 0, 0, 0.7064056396484375, 119.7,193]},{'fr30': [0.74578857421875, 0.027496337890625, -0.076202392578125, 0.596405029296875, 112.5,190.2]}],30);
		elem11 = $("#e11").zdw_init([{'fr1': [0.743255615234375, 0.019561767578125, -0.019561767578125, 0.743255615234375, 204.6,140.85]},{'fr10': [0.684234619140625, 0.2873992919921875, -0.2994537353515625, 0.6876983642578125, 221.6,165.95]},{'fr20': [0.511260986328125, 0.5366668701171875, -0.56243896484375, 0.508209228515625, 228.65,199.65]},{'fr30': [0.253173828125, 0.69732666015625, -0.73150634765625, 0.23236083984375, 221.75,234.55]}],30);
		
		stagespr.push(elem0);
		stagespr.push(elem1)
		stagespr.push(elem2)
		stagespr.push(elem3)
		stagespr.push(elem4)
		stagespr.push(elem5)
		stagespr.push(elem6)
		stagespr.push(elem7)
		stagespr.push(elem8)
		stagespr.push(elem9)
		stagespr.push(elem10)
		stagespr.push(elem11)
	
	}
	
	function upFrame(){
		
		elem0.updataAnimation()
		elem1.updataAnimation()
		elem2.updataAnimation()
		elem3.updataAnimation()
		elem4.updataAnimation()
		//elem5.updataAnimation()
		elem6.updataAnimation()
		elem7.updataAnimation()
		elem8.updataAnimation()
		elem9.updataAnimation()
		elem10.updataAnimation()
		elem11.updataAnimation()


		curFrame = elem0.curFrame


		 tweenID = setTimeout(function () {
                requestID = requestAnimationFrame(upFrame);
         }, 1000 / 25);
	}
	
	
	
	
	
	
	
    
    //复位命令
    function resetFn(id){
  		for(var i = 0;i<12;i++){
  			stagespr[i].gotoAndStop(id)
  		}
    }

    p.reset = function () {
       
    };

    p.loadState = function (obj) {

    };

    p.saveState = function () {
        return {};
    };

    wnd.InteractiveActivity = InteractiveActivity;

})(window);